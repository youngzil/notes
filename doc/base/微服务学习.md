- [微服务的定义：什么是微服务](#微服务的定义)
- [微服务的发展历程](#微服务的发展历程)
- [单体架构带来的问题](#单体架构带来的问题)
- [微服务的优缺点](#微服务的优缺点)
- [微服务框架](#微服务框架)
- [JAVA系微服务框架](../other/JAVA系微服务框架.md)
- [微服务、PAAS、后端管理系统框架、方案](../other/微服务、PAAS、后端管理系统框架、方案.md)




## 微服务的定义

微服务MicroService

顾名思义，微服务得从两个方面去理解，什么是"微"、什么是"服务"， 

微 狭义来讲就是体积小、著名的"2 pizza 团队"很好的诠释了这一解释（2 pizza 团队最早是亚马逊 CEO Bezos提出来的，意思是说单个服务的设计，所有参与人从设计、开发、测试、运维所有人加起来 只需要2个披萨就够了 ）。 

而所谓服务，一定要区别于系统，服务一个或者一组相对较小且独立的功能单元，是用户可以感知最小功能集。



微服务是一种用于构建应用的架构方案。微服务架构有别于更为传统的单体式方案，可将应用拆分成多个核心功能。每个功能都被称为一项服务，可以单独构建和部署，这意味着各项服务在工作（和出现故障）时不会相互影响。

微服务是一种开发软件的架构和组织方法，其中软件由通过明确定义的 API 进行通信的小型独立服务组成。这些服务由各个小型独立团队负责。

微服务架构使应用程序更易于扩展和更快地开发，从而加速创新并缩短新功能的上市时间。

需要注意，“微服务”与“微服务架构”有着本质的区别： “微服务”强调的是服务的大小，它关注的是某一个点。而“微服务架构”则是一种架构思想，需要从整体上对软件系统进行通盘的考虑。



这里有一个图非常好的总结微服务架构需要考虑的问题，包括
- API Gateway
- 服务间调用
- 服务发现
- 服务容错
- 服务部署
- 数据调用





## 微服务的发展历程

SOA--->微服务



SOA：面向服务的体系结构（英语：service-oriented architecture）并不特指一种技术，而是一种分布式运算的软件设计方法。

实际上SOA只是一种架构设计模式，而SOAP、REST、RPC就是根据这种设计模式构建出来的规范，其中SOAP通俗理解就是http+xml的形式，REST就是http+json的形式，RPC是基于socket的形式。上文提到的CXF就是典型的SOAP/REST框架，dubbo就是典型的RPC框架，而SpringCloud就是遵守REST规范的生态系统。



[什么是SOA服务架构？](https://www.jianshu.com/p/c34aac5646e9)  
[每天都在谈SOA和微服务，但你真的理解什么是服务吗？](https://www.infoq.cn/article/do-you-really-understand-what-is-service)  
[如何通俗易懂地解释什么是SOA？](https://www.zhihu.com/question/42061683)  
[深入浅出SOA（Service Oriented Architecture）](https://www.cnblogs.com/talentbuilder/archive/2010/05/04/1727044.html)  





## 单体架构带来的问题

1. 复杂性逐渐变高
2. 技术债务逐渐上升
3. 部署速度逐渐变慢
4. 阻碍技术创新
5. 无法按需伸缩

1. 单体架构所有的模块全都耦合在一块，代码量大，维护困难，微服务每个模块就相当于一个单独的项目，代码量明显减少，遇到问题也相对来说比较好解决。

2. 单体架构所有的模块都共用一个数据库，存储方式比较单一，微服务每个模块都可以使用不同的存储方式（比如有的用redis，有的用mysql等），数据库也是单个模块对应自己的数据库。

3. 单体架构所有的模块开发所使用的技术一样，微服务每个模块都可以使用不同的开发技术，开发模式更灵活。



## 微服务的优缺点


特性：
1. 每个微服务可独立运行在自己的进程里；
2. 一系列独立运行的微服务共同构建起了整个系统；
3. 每个服务为独立的业务开发，一个微服务一般完成某个特定的功能，比如：订单管理，用户管理等；
4. 微服务之间通过一些轻量级的通信机制进行通信，例如通过REST API或者RPC的方式进行调用。



优点：
- 敏捷性,快速开发，快速迭代，局部修改容易部署
- 高度可扩展
- 出色的弹性
- 易于部署，启动较快
- 更加开放，技术自由，技术栈不受限，可选择最适合自己的技术方案：由于使用了多语言 API，所以开发人员可以根据需要实现的功能，自由选用最适合的语言和技术。
- 可重复使用的代码
- 容易被替换和升级
- 按功能单元组织服务
- 架构由层次化转向扁平化


- 易于开发和维护
- 单个微服务启动较快
- 局部修改容易部署
- 技术栈不受限



缺点：

- 运维要求较高
- 分布式的复杂性：开发、运维、监控
- 接口调整成本高

- 分布式带来的通信复杂性与不确定性
- 非中心化带来的数据不一致性
- 众多服务带来构建、配置、测试、部署的困难性
- 业务解耦带来的微服务拆分困难性



所面临的挑战：
- 1、构建：您必须花时间明确各个服务间的依赖关系。要知道，由于存在这些依赖关系，当您完成一个构建时，可能会触发多个其他构建。您还需要考虑微服务对于数据的影响。
- 2、测试：集成测试和端到端测试可能会前所未有的难以实施，但却更加重要。根据您在架构相互支撑的服务时所采用的不同方式，架构中的一个部分出现故障，很可能会导致其他部分也随之出现故障。
- 3、版本管理：在更新到新版本时，请记住：向后兼容性可能会因更新操作而失效。要解决这一问题，您可以利用条件逻辑来进行构建，但是构建会变得繁复、难以控制且快速。或者，您也可以为不同的客户端维护多个活跃版本，但是相关的维护和管理工作会变得更加庞杂。
- 4、部署：没错，这也是一大挑战，至少是首次设置时所要面临的一大挑战。为了简化部署，您必须先大量投资自动化，因为人工部署无法应对微服务的复杂性。请好好思考您要以何种方式以及怎样的顺序来部署各项服务。
- 5、日志记录：使用分布式系统时，您需要利用集中式日志将所有相关信息集中到一处。否则，积累的日志数量将让您难以招架。
- 6、监控：您必须通过一个集中式视图来了解整个系统的情况，以便找出问题的根源。
- 7、调试：无法进行远程调试，因为这种方式无法涵盖数十个或数百个服务。不幸的是，关于应该如何进行调试，目前还没有标准答案。
- 8、连接：请考虑使用服务探索功能，无论是集中式的还是集成式。




## 微服务框架

- 第一代微服务框架
    - Spring Cloud
    - Dubbo
- 下一代微服务：Service Mesh？
    - Linkerd
    - Envoy
    - Istio



目前微服务的开发框架，最常用的有以下四个：
1. Spring Cloud：http://projects.spring.io/spring-cloud（现在非常流行的微服务架构）
2. Dubbo：http：//dubbo.io
3. Dropwizard：http://www.dropwizard.io （关注单个微服务的开发）
4. Consul、etcd&etc.（微服务的模块）




[Microservices Architecture Introduction](https://xiaoxubeii.github.io/articles/microservices-architecture-introduction/)  
[什么是微服务？](https://www.redhat.com/zh/topics/microservices/what-are-microservices)  
[什么是微服务？AWS](https://aws.amazon.com/cn/microservices/)  
[什么是微服务](https://www.jianshu.com/p/39c1e4ec0d63)  
[什么是微服务](https://blog.csdn.net/wuxiaobingandbob/article/details/78642020)  
[“四个维度” 讲明白什么是微服务！](https://xie.infoq.cn/article/83386f6d764984f3b64b760fb)  
[什么是微服务？](https://www.wmyskxz.com/2019/06/07/shi-me-shi-wei-fu-wu/)  




